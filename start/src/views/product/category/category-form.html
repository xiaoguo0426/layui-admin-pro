<div class="layui-form" lay-filter="category-form" style="padding: 20px 30px 0 0;">

    <div class="layui-form-item">
        <label class="layui-form-label">上级分类</label>
        <div class="layui-input-inline">
            <div id="product-category-select"></div>
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">分类名称</label>
        <div class="layui-input-block">
            <input type="text" name="title" value="" lay-verify="required" placeholder="请输入分类名称"
                   autocomplete="off" class="layui-input">
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">排序</label>
        <div class="layui-input-block">
            <input type="text" name="sort" value="" lay-verify="required" placeholder="请输入排序"
                   autocomplete="off" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">分类描述</label>
        <div class="layui-input-block">
            <textarea type="text" name="desc" lay-verify="required" autocomplete="off" class="layui-textarea"></textarea>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label"></label>
        <div class="layui-input-inline">
            <input type="hidden" name="id" value="{{ d.id }}" lay-verify="require"
                   autocomplete="off" class="layui-input">
            <input type="button" lay-submit lay-filter="category-form-submit" value="确认" class="layui-btn">
        </div>
    </div>
</div>

<script type="text/html" id="product-category-select-tpl">
    <select name="parent_id">
        <option value="0">顶级分类</option>
        {{# layui.each(d.categories, function(index, item){ }}
        <option value="{{ item.id }}" {{ d.parent_id === item.id ?
        ' selected' : '' }}{{ d.id === item.id ?
        ' disabled' : '' }}>{{ item.spl + item.title }}</option>
        {{# }); }}
    </select>
</script>
